no_machine()
{
  /Applications/NoMachine.app/Contents/MacOS/nxplayer --session kklochkov-bbox.nxs & disown && exit
}

make_rsync_backup()
{
  if [ -z "$1" ]; then
    echo "Error: No destination provided for rsync backup."
    return 1
  fi

  backup_sources=(
    "$HOME/develop"
    "$HOME/Documents"
    "$HOME/Downloads"
    "$HOME/Pictures"
  )

  # Inspired by https://itsfoss.gitlab.io/post/how-to-backup-files-and-directories-using-rsync-in-linux/
  for source in "${backup_sources[@]}"; do
    echo "Backing up \"$source\" to \"$1\""
    rsync -avhP --delete \
      --filter=":- .gitignore" \
      --exclude=".DS_Store" \
      --exclude=".localized" \
      --exclude=".git/" \
      $source \
      $1
  done
}

export VISUAL=nvim
export EDITOR="$VISUAL"
export FZF_DEFAULT_COMMAND='rg --files'

alias ell="eza -ahl"

# NOTE: in order plugins to work, this script must be sources before `oh-my-zsh.sh`
plugins=(
  git
  colorize
  colored-man-pages
  zsh-syntax-highlighting
  zsh-interactive-cd
  zsh-navigation-tools
  zsh-autosuggestions
  bazel
  ssh-agent
)

zstyle :omz:plugins:ssh-agent quiet yes
zstyle :omz:plugins:ssh-agent lazy yes
